---
toc: content
title: '关于KWC'
order: '1'
glossary: Web Components | DOM | DOM diffing | DOM 树 | i18n | ES6+ | Custom Elements | Shadow DOM | 属性 | Properties | 事件 | Events
---

# 关于「KWC」

本章节介绍「KWC」 的设计哲学、核心架构与关键技术栈，为你深入理解后续技术细节提供基础。

## 「KWC」 简介

「KWC」 (Kingdee Web Components) 是「金蝶 AI 苍穹」平台基于现代 Web Components 标准构建的轻量级前端组件框架。它旨在提供一套标准化、高性能的开发范式，帮助你在「苍穹」平台上高效构建用户界面和应用程序。

「KWC」 的核心在于 **基于通用标准，专注企业场景** 。它的大部分能力（约 90%）源自现代浏览器广泛支持的 ES6+、Custom Elements、Shadow DOM 等原生 Web 技术，确保了开发的通用性和未来兼容性；同时，框架在此基础上，针对金蝶企业级开发的常见需求，进行了约 10%的关键性增强与优化，使其能无缝融入「金蝶 AI 苍穹」平台的技术生态。

## 为什么选择「KWC」？

选择「KWC」，意味着选择一种更直接、更高效的开发方式。它旨在解决传统企业前端开发中遇到的复用难、体验割裂、性能与集成复杂度高等问题。

### 核心优势

- **标准驱动，学习成本低**：构建于通用的现代 Web 技术栈之上。如果你熟悉标准的 JavaScript、HTML 和 CSS，就能快速上手「KWC」。
- **原生性能，体验流畅**：得益于原生 Web Components 和精简的响应式系统，「KWC」避免了传统重型框架的虚拟 DOM diffing 开销，提供了更接近原生的渲染性能。
- **样式与逻辑的彻底封装**：每个组件都是独立的实体，其样式和逻辑被封装在组件边界内，有效避免了全局样式污染，并确保了组件的可靠复用。
- **深度集成的平台生态**：与「金蝶 AI 苍穹」平台的后端服务、业务数据、用户认证及国际化（i18n）等能力开箱即用，实现安全、便捷的深度融合。

### 核心技术栈

「KWC」遵循清晰直观的开发模型，与你熟悉的 Web 开发工作流高度一致：

1. **HTML 模板**：使用声明式的 HTML 编写视图结构，并通过 `{ }` 语法实现数据绑定。
2. **JavaScript 类**：通过 ES6 类定义组件逻辑，使用 `@track`、`@api` 等装饰器简洁地管理响应式状态与公共接口。
3. **作用域 CSS**：组件样式可编写在独立的 CSS 文件中，确保了视觉效果的独立性与一致性。

### 应用场景

KWC 尤其适合在以下场景中发挥价值：

1. **跨多端需求**：为「云之家」、钉钉、独立 H5 及 PC 端开发功能统一的业务模块，实现“一套代码，多端适配”，大幅降低开发和维护成本。
2. **复杂交互页面**：通过可复用的组件来构建和管理具有复杂状态（如动态表单、数据可视化、拖拽交互）的界面，提升代码的可维护性。
3. **追求极致性能的页面**：利用其轻量级和原生优势，为工作台、领导驾驶舱等高频率访问页面提供极致的加载与交互体验。

---

## 开始之前

请确保你已完成 [开发准备](https://dev.kingdee.com/kwc/getting-started/) 中的所有步骤，并已成功启动「KWC」 组件项目。

### 开发工具扩展

为了获得更佳的开发和调试体验，建议在 VSCode 中安装以下扩展：

- **ESLint**：实时检查代码语法与风格，确保符合项目规范。
- **Prettier**：自动格式化代码，保持代码整洁统一。
- **Web Component DevTools**：用于在浏览器中检查和调试自定义元素及 Shadow DOM。
- **Path Intellisense**：在导入文件时提供路径自动补全，减少输入错误。
- **HTML CSS Support**：在 HTML 中编写类名时提供 CSS 定义的智能提示与导航。

---

## 「KWC」 核心概念

### 组件（Component）

「KWC」 是一个继承自 `kingdeeElement` 的 ES6 类，配合对应的模板（HTML）、样式（CSS）、逻辑（JavaScript）的功能单元，可独立复用。在文件系统中表现为一个文件夹，包含 `componentName.html`（模板）、`componentName.js`（逻辑）、`componentName.css`（样式，可选）。

### Shadow DOM

「KWC」 实现样式与 DOM 隔离的核心技术，是浏览器原生支持的影子 DOM 树，与页面主 DOM 树隔离。KWC 组件本身是一个「宿主元素」，外部可通过宿主元素设置样式（如宽高、边距），但无法穿透到内部，确保组件内部样式不污染外部，外部样式不影响组件内部。

### 「KWC」 核心装饰器

装饰器是「KWC」 简化组件逻辑的核心语法糖，用于标记组件的特殊属性或方法，实现响应式、公共接口、数据连接等核心能力。以下是最常用的 3 个装饰器：

- `@track`：响应式状态装饰器，标记组件的「响应式状态」，当状态值变化时，组件会自动重新渲染相关视图；
- `@api`：公共接口装饰器，标记组件的「公共属性或方法」，允许父组件访问或调用，是组件对外暴露的接口；
- `@wire`：数据连接装饰器，声明与外部数据源的「响应式连接」，主要用于对接「金蝶 AI 苍穹」平台的 AICB（集成总线）服务，实现数据的自动获取与更新。

### 属性与事件

「KWC」的通信机制完全兼容并基于 Web Components 原生标准，数据主要从父组件流向子组件（通过属性 Properties），子组件通过触发事件（Events）通知父组件状态变化，由父组件（数据所有者）决定如何更新数据，并再次通过属性向下传递。

### 生命周期

「KWC」组件生命周期管理机制提供了完整的钩子函数，包含：构造函数 `constructor()` 钩子，挂载 DOM 的 `connectedCallback()` 钩子，渲染 UI 的 `render()` 钩子等。
